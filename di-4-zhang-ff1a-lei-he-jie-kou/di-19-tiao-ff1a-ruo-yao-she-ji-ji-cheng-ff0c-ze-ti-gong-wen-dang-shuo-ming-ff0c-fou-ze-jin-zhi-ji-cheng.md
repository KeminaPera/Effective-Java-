### 第19条：若要设计继承，则提供文档说明，否则禁止继承

Item 18 alerted you to the dangers of subclassing a “foreign” class that was not designed and documented for inheritance. So what does it mean for a class to be designed and documented for inheritance?

条目18提醒我们，对于并不是为了继承而设计同时又没有良好的说明文档的“外来”类，去子类化它是很危险的。那么，“为了继承而设计同时提供文档说明”到底意味着什么呢？

First, the class must document precisely the effects of overriding any method. In other words, **the class must document its self-use of overridable methods**. For each public or protected method, the documentation must indicate which overridable methods the method invokes, in what sequence, and how the results of each invocation affect subsequent processing. \(By overridable, we mean nonfinal and either public or protected.\) More generally, a class must document any circumstances under which it might invoke an overridable method. For example, invocations might come from background threads or static initializers.

首先，必须在这个类的文档里为每个方法说明覆盖带来的影响。换句话说，**必须在这个类的文档里为可覆盖方法说明它的自用性（self-use）。**对于每个公有方法或受保护方法，文档里都必须指明这个方法调用里哪些可覆盖方法，是以什么顺序调用的，每个调用的结果是如何影响接下来的处理过程。（可覆盖是指非final，公有的或受保护的。）说得更通俗点，一个类的文档必须说明在哪些情况下它会调用可覆盖方法。例如，调用可能来自后台线程或者静态初始器（static initializer）。

A method that invokes overridable methods contains a description of these invocations at the end of its documentation comment. The description is in a special section of the specification, labeled “Implementation Requirements,” which is generated by the Javadoc tag @implSpec. This section describes the inner workings of the method. Here’s an example, copied from the specification for java.util.AbstractCollection:



